!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wechatPlayer",[],t):"object"==typeof exports?exports.wechatPlayer=t():e.wechatPlayer=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=2)}([function(e,t,r){e.exports=r.p+"voice@3x.png?d34e8875fe6867944d6c98527241654b"},function(e,t,r){"use strict";t.a={name:"webchatPlayer",props:{url:{type:String,default:""},title:{type:String,default:""},autoplay:{type:Boolean,default:!1},styleObject:{type:Object,default:function(){return{width:"289px",height:"71px"}}}},data:function(){return{player:null,duration:0,currentTime:0,prCurrentTime:0,playing:!1,leave:0,oDiv1:0,oDiv2:null,oDiv3:null}},created:function(){},mounted:function(){var e=this;this.$nextTick(function(){e.initPlyer(),e.boxWidth=e.$refs.barRef.offsetWidth,e.oDiv2=document.querySelector(".progress"),e.oDiv3=document.querySelector(".circle")})},methods:{initPlyer:function(){this.player=document.getElementById("audio-player")},handlePlay:function(){this.playPause()},hanldePause:function(){this.playPause()},playPause:function(){this.player.paused?(this.player.play(),this.$emit("paly"),this.playing=!0):(this.player.pause(),this.$emit("pause"),this.playing=!1)},updateTime:function(){this.currentTime=this.player.currentTime,this.prCurrentTime=this.currentTime/this.duration*100,this.$emit("currentTime",this.currentTime)},canPlay:function(){this.duration=this.player.duration,this.$emit("canplay")},loadError:function(){this.$emit("error")},ended:function(){this.$emit("ended")},dragStart:function(e){var t=e.targetTouches[0].clientX-this.oDiv3.offsetLeft;this.leave=t},dragmove:function(e){var t=e.targetTouches[0].clientX-this.leave;t>=this.boxWidth?t=this.boxWidth:t<=0&&(t=0),this.oDiv3.style.left=t+"px",this.oDiv2.style.width=t+"px"},dragEnd:function(e){var t=(e.changedTouches[0].clientX,this.oDiv2.offsetWidth),r=t/this.boxWidth;this.duration;this.player.currentTime=parseInt(r*this.duration)},progressClick:function(e){var t=this.$refs.barRef.getBoundingClientRect().left,r=e.pageX-t,a=r/this.boxWidth,n=this.duration*a;this.player.currentTime=parseInt(n)}},filters:{time:function(e){var t=Math.floor(e/3600)<10?"0"+Math.floor(e/3600):Math.floor(e/3600),r=Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60),a=Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60);return"00"==t?r+":"+a:t+":"+r+":"+a}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(3);a.a.install=function(e){e.component(a.a.name,a.a)},t.default=a.a},function(e,t,r){"use strict";function a(e){r(4)}var n=r(1),i=r(13),o=r(12),s=a,p=o(n.a,i.a,!1,s,"data-v-636760ce",null);t.a=p.exports},function(e,t,r){var a=r(5);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(10)("87b63d38",a,!0,{})},function(e,t,r){var a=r(6);t=e.exports=r(7)(!1),t.push([e.i,".wechatplayer-wraper[data-v-636760ce]{background:#f8f8f8;box-sizing:border-box;padding:0 18px;border-radius:4px;border:1px solid #e6e6e6}.wechatplayer-wraper #audio-player[data-v-636760ce]{display:none}.wechatplayer-wraper .wechatplayer-box[data-v-636760ce]{display:flex;align-items:center;height:100%}.wechatplayer-wraper .wechatplayer-box .player-icon[data-v-636760ce]{display:inline-block;width:30px;height:30px;background-size:30px 30px;background-image:url("+a(r(8))+");background-repeat:no-repeat;flex:0 0 30px;margin-right:10px}@media (-webkit-min-device-pixel-ratio:3),(min-device-pixel-ratio:3){.wechatplayer-wraper .wechatplayer-box .player-icon[data-v-636760ce]{background-image:url("+a(r(0))+")}}@media (-webkit-min-device-pixel-ratio:3.375),(min-device-pixel-ratio:3.375){.wechatplayer-wraper .wechatplayer-box .player-icon[data-v-636760ce]{background-image:url("+a(r(0))+")}}.wechatplayer-wraper .wechatplayer-box .player-icon.is-play[data-v-636760ce]{background-image:url("+a(r(9))+")}.wechatplayer-wraper .wechatplayer-box .player-info[data-v-636760ce]{flex:1}.wechatplayer-wraper .wechatplayer-box .player-info .player-name[data-v-636760ce]{color:#626262;font-size:13px;margin:0}.wechatplayer-wraper .wechatplayer-box .progress-praent[data-v-636760ce]{padding-top:4px;padding-bottom:7px;box-sizing:border-box}.wechatplayer-wraper .wechatplayer-box .progress-praent .player-progress[data-v-636760ce]{height:2px;position:relative;background:#ebebeb}.wechatplayer-wraper .wechatplayer-box .progress-praent .player-progress .progress[data-v-636760ce]{position:absolute;height:3px;z-index:33px;background:#09bb07}.wechatplayer-wraper .wechatplayer-box .progress-praent .player-progress .circle[data-v-636760ce]{position:absolute;top:50%;margin-top:-7px;width:15px;height:15px;background:#d9f3d8;box-sizing:border-box;border-radius:50%;padding:3px}.wechatplayer-wraper .wechatplayer-box .progress-praent .player-progress .circle .circle-center[data-v-636760ce]{display:inline-block;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;background:#09bb07;width:6px;height:6px;border-radius:50%}.wechatplayer-wraper .wechatplayer-box .progress-time[data-v-636760ce]{display:flex;justify-content:space-between;font-size:11px;color:#999}",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){function r(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=a(n);return[r].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([i]).join("\n")}return[r].join("\n")}function a(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=r(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(a[i]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&a[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){e.exports=r.p+"voice@2x.png?d34e8875fe6867944d6c98527241654b"},function(e,t,r){e.exports=r.p+"playing.gif?b2ae94e4e9acd7167ffe633b89236baf"},function(e,t,r){function a(e){for(var t=0;t<e.length;t++){var r=e[t],a=l[r.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](r.parts[n]);for(;n<r.parts.length;n++)a.parts.push(i(r.parts[n]));a.parts.length>r.parts.length&&(a.parts.length=r.parts.length)}else{for(var o=[],n=0;n<r.parts.length;n++)o.push(i(r.parts[n]));l[r.id]={id:r.id,refs:1,parts:o}}}}function n(){var e=document.createElement("style");return e.type="text/css",u.appendChild(e),e}function i(e){var t,r,a=document.querySelector("style["+g+'~="'+e.id+'"]');if(a){if(h)return y;a.parentNode.removeChild(a)}if(b){var i=f++;a=d||(d=n()),t=o.bind(null,a,i,!1),r=o.bind(null,a,i,!0)}else a=n(),t=s.bind(null,a),r=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else r()}}function o(e,t,r,a){var n=r?"":a.css;if(e.styleSheet)e.styleSheet.cssText=m(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function s(e,t){var r=t.css,a=t.media,n=t.sourceMap;if(a&&e.setAttribute("media",a),v.ssrId&&e.setAttribute(g,t.id),n&&(r+="\n/*# sourceURL="+n.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!p)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=r(11),l={},u=p&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,h=!1,y=function(){},v=null,g="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,r,n){h=r,v=n||{};var i=c(e,t);return a(i),function(t){for(var r=[],n=0;n<i.length;n++){var o=i[n],s=l[o.id];s.refs--,r.push(s)}t?(i=c(e,t),a(i)):i=[];for(var n=0;n<r.length;n++){var s=r[n];if(0===s.refs){for(var p=0;p<s.parts.length;p++)s.parts[p]();delete l[s.id]}}}};var m=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var r=[],a={},n=0;n<t.length;n++){var i=t[n],o=i[0],s=i[1],p=i[2],c=i[3],l={id:e+":"+n,css:s,media:p,sourceMap:c};a[o]?a[o].parts.push(l):r.push(a[o]={id:o,parts:[l]})}return r}},function(e,t){e.exports=function(e,t,r,a,n,i){var o,s=e=e||{},p=typeof e.default;"object"!==p&&"function"!==p||(o=e,s=e.default);var c="function"==typeof s?s.options:s;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),r&&(c.functional=!0),n&&(c._scopeId=n);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):a&&(l=a),l){var u=c.functional,d=u?c.render:c.beforeCreate;u?(c._injectStyles=l,c.render=function(e,t){return l.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:o,exports:s,options:c}}},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wechatplayer-wraper",style:e.styleObject},[r("div",{staticClass:"wechatplayer-box"},[r("div",{staticClass:"player-icon",class:{"is-play":e.playing},on:{click:e.handlePlay}}),e._v(" "),r("div",{staticClass:"player-info"},[r("p",{staticClass:"player-name",domProps:{textContent:e._s(e.title)}}),e._v(" "),r("div",{staticClass:"progress-praent",on:{click:function(t){return t.stopPropagation(),e.progressClick(t)}}},[r("div",{ref:"barRef",staticClass:"player-progress"},[r("div",{ref:"progressRef",staticClass:"progress",style:{width:e.prCurrentTime+"%"}}),e._v(" "),r("div",{staticClass:"circle",style:{left:e.prCurrentTime+"%"},on:{touchstart:function(t){return t.stopPropagation(),t.preventDefault(),e.dragStart(t)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.dragmove(t)},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.dragEnd(t)}}},[r("span",{staticClass:"circle-center"})])])]),e._v(" "),r("div",{staticClass:"progress-time"},[r("span",{staticClass:"start_time"},[e._v(e._s(e._f("time")(e.currentTime)))]),e._v(" "),r("span",{staticClass:"end_time"},[e._v(e._s(e._f("time")(e.duration)))])])])]),e._v(" "),r("audio",{attrs:{src:e.url,id:"audio-player",controls:"",autoplay:e.autoplay,preload:"preload"},on:{timeupdate:e.updateTime,canplay:e.canPlay,error:e.loadError,ended:e.ended}})])},n=[],i={render:a,staticRenderFns:n};t.a=i}])});
//# sourceMappingURL=wechatPlayer.js.map